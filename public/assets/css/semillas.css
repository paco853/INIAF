:root{
  --blue-900:#0f3d75;
  --blue-800:#114a8a;
  --blue-700:#1559a6;
  --bg:#ffffff;           /* fondo general claro */
  --card:#ffffff;         /* tarjetas claras */
  --text:#0f172a;         /* texto oscuro */
  --muted:#4b5563;        /* texto secundario */
  --border:#e5e7eb;       /* bordes claros */
  --sidebar-bg:#e6e6e6;   /* color de la barra lateral (pedido) */
  --sidebar-bg-rgb:230,230,230; /* RGB del color de la barra para transparencias */
  --topbar-bg:#f3f3f3;    /* un poco más claro que la barra */
}

/* (Si se usa texto en lugar de imagen) */
@import url('https://fonts.googleapis.com/css2?family=Archivo+Black&display=swap');

*{box-sizing:border-box}
html,body{min-height:100%}
body{
  margin:0;
  display:flex;
  min-height:100vh;
  background:var(--bg);
  color:var(--text);
  font-family:ui-sans-serif,system-ui,-apple-system,"Segoe UI",Roboto,Ubuntu,"Helvetica Neue",Arial,"Noto Sans","Apple Color Emoji","Segoe UI Emoji";
}

/* Sidebar */
.sidebar{
  width:260px;
  min-width:260px;
  background:var(--sidebar-bg);
  height:100vh;
  position:sticky;
  top:0;
  left:0;
  border-right:1px solid var(--border);
  transition:transform .25s ease, width .25s ease, min-width .25s ease;
  will-change:transform;
}
.sidebar.collapsed{ transform:translateX(-100%); width:0; min-width:0; overflow:hidden; }
body.sidebar-collapsed .sidebar{ transform:translateX(-100%); width:0; min-width:0; overflow:hidden; }

.sidebar__header{
  display:flex;align-items:center;justify-content:space-between;
  padding:16px 14px;
  border-bottom:1px solid rgba(255,255,255,.08);
}
.sidebar__brand{ display:block; max-height:64px; height:64px; width:auto; object-fit:contain; margin-left:25px; }
.icon-btn{
  background:var(--sidebar-bg);border:1px solid var(--border);color:#0f172a;cursor:pointer;
  font-size:18px;line-height:1;padding:6px 8px;border-radius:8px;
}
.icon-btn:hover{background:#efefef}

.sidebar__nav{display:flex;flex-direction:column;padding:10px}
.nav__item{ 
  display:flex;align-items:center;gap:8px;
  color:var(--text);text-decoration:none;padding:10px 12px;border-radius:8px;
  opacity:.9;transition:background .15s ease, opacity .15s ease;
}
/* reverted bottom pin for dashboard */
.nav__item:hover{background:rgba(0,0,0,.06);opacity:1}
.nav__item.active{background:rgba(0,0,0,.08)}
.nav__icon{width:18px;height:18px;object-fit:contain;display:inline-block;flex-shrink:0}
/* Larger variant for specific icons (e.g., Configuración) */
.nav__icon--lg{ width:24px; height:24px }

/* Content */
.content{flex:1;min-width:0;display:flex;flex-direction:column;color:#0f172a;min-height:100vh;
  background:
    linear-gradient(rgba(255,255,255,0.35), rgba(255,255,255,0.35)),
    url('/images/iniaf.jpg') center center / cover no-repeat;
  background-attachment: fixed;
}
.topbar{
  position:sticky;top:0;z-index:5;
  display:flex;align-items:center;gap:12px;
  background:transparent;
  border-bottom:1px solid var(--border);
  padding:14px 18px;
}
.topbar .panel-toggle{ display:none }
body.sidebar-collapsed .topbar .panel-toggle{ display:inline-flex }
.toggle{
  background:var(--sidebar-bg);border:1px solid var(--border);color:#0f172a;
  border-radius:10px;padding:8px 12px;font-size:16px;cursor:pointer;
}
.toggle:hover{background:#efefef}
.title{font-size:20px;margin:0;font-weight:700;letter-spacing:.03em;color:#0f172a}

.placeholder{flex:1;padding:12px;background:transparent}

.card{background:var(--card);border:1px solid var(--border);border-radius:16px;padding:20px 20px;margin-top:8px;box-shadow:0 8px 24px rgba(15,23,42,0.06)}
.form-card{
  background-color: rgba(var(--sidebar-bg-rgb), 0.60);
  border:1px solid var(--border);
  box-shadow:0 2px 8px rgba(15,23,42,0.06);
  padding:24px 24px;
}
.form-card .card-title{font-size:22px}
.form-card .section-title{color:var(--blue-800)}
.form-card .grid-form{gap:16px}
.form-card .actions{margin-top:14px}
.card-title{margin:0 0 16px;font-size:20px;font-weight:800;letter-spacing:.2px;position:relative;padding-left:10px}
.card-title::before{content:"";position:absolute;left:0;top:4px;bottom:4px;width:4px;border-radius:4px;background:linear-gradient(180deg,#1559a6,#0f3d75)}
.grid-form{display:grid;grid-template-columns:repeat(2,minmax(0,1fr));gap:12px}
.grid-form .field{display:flex;flex-direction:column;gap:4px}
.grid-form .field .hint{font-size:12px;color:var(--muted)}
.section-title{grid-column:1/-1;margin:6px 0 2px 0;font-size:13px;font-weight:700;color:#334155;letter-spacing:.3px;text-transform:uppercase;opacity:.9}
.grid-form label{font-size:13px;font-weight:600;color:#0f172a}
.grid-form input{background:#ffffff;border:1px solid var(--border);border-radius:6px;padding:6px 8px;color:#0f172a;transition:border-color .15s ease, box-shadow .15s ease, transform .05s ease}
.grid-form select{background:#ffffff;border:1px solid var(--border);border-radius:6px;padding:6px 8px;color:#0f172a;transition:border-color .15s ease, box-shadow .15s ease}
.grid-form select:focus{outline:none;border-color:var(--blue-700);box-shadow:0 0 0 3px rgba(21,89,166,0.15)}
.grid-form input::placeholder{color:#9ca3af}
.grid-form .field label{margin-bottom:2px}
.grid-form input:focus{outline:none;border-color:var(--blue-700);box-shadow:0 0 0 3px rgba(21,89,166,0.15)}
.grid-form input[readonly]{background:#f9fafb}
.grid-form .field.field--full{ grid-column:1 / -1 }
/* Compact input widths for specific fields */
.grid-form .field.field--sm input,
.grid-form .field.field--sm select,
.grid-form .field.field--sm .input-with-icon input{ max-width:120px;height: 28px; width:100%; }
.grid-form .field.field--md input,
.grid-form .field.field--md select,
.grid-form .field.field--md .input-with-icon input{ max-width:150px; width:100%; }
/* Global compact mode for a form */
.grid-form--compact .field input,
.grid-form--compact .field select,
.grid-form--compact .field .input-with-icon input{ max-width:260px; height:27px; width:100%; }
.grid-form--compact{ grid-template-columns:repeat(4, minmax(220px, 1fr)); justify-items:flex-start }
.grid-form--compact .field{ max-width:260px }
.grid-form--compact .actions{ justify-content:flex-start }
.grid-form--compact .section-title{ margin-top:10px }
/* allow inner inline grids to keep their own columns */

/* Responsive caps for compact grid */
@media (max-width: 1300px){
  .grid-form--compact{ grid-template-columns:repeat(3, minmax(220px, 1fr)) }
}
@media (max-width: 1100px){
  .grid-form--compact{ grid-template-columns:repeat(2, minmax(220px, 1fr)) }
}
@media (max-width: 700px){
  .grid-form--compact{ grid-template-columns:1fr }
}
/* Extra compact sizing inside compact forms */
.grid-form--4-col{
  display: grid;
  grid-template-columns: repeat(4, minmax(0, 1fr));
  gap: 14px;
}
@media (max-width: 1200px) {
  .grid-form--4-col{ grid-template-columns: repeat(2, minmax(0, 1fr)); }
}
@media (max-width: 700px) { .grid-form--4-col{ grid-template-columns: 1fr; } }
.grid-form--compact .field input,
.grid-form--compact .field select,
.grid-form--compact .field textarea{
  padding:4px 6px;
  font-size:11px;
  border-radius:4px;
}
.actions{grid-column:1/-1;display:flex;justify-content:flex-end;margin-top:10px;gap:8px;flex-wrap:nowrap}
.btn-primary{background:linear-gradient(180deg,#1559a6,#114a8a);border:1px solid #0f3d75;color:white;border-radius:10px;padding:8px 12px;cursor:pointer;box-shadow:0 4px 12px rgba(21,89,166,0.25)}
.btn-primary:hover{filter:brightness(1.05);transform:translateY(-1px)}
.btn-primary:active{transform:translateY(0)}
.btn-secondary{background:#eef2f7;border:1px solid #d7dce2;color:#0f172a;border-radius:10px;padding:8px 12px;cursor:pointer;margin-left:0;transition:filter .15s ease, transform .05s ease, box-shadow .15s ease}
.btn-secondary:hover{filter:brightness(0.98)}
.btn-secondary:active{transform:translateY(0)}
/* Generic button helpers */
.btn{display:inline-flex;align-items:center;gap:6px;text-decoration:none;font-weight:500}
.btn--sm{padding:6px 10px;border-radius:8px;font-size:12px}
.btn--soft{background:#f3f4f6;border:1px solid #e5e7eb;color:#111827}
.btn--soft:hover{filter:brightness(0.98)}
.btn--icon{padding:6px 8px}
.btn svg{width:14px;height:14px}
.error{color:#ffb4b4;font-size:12px}
.alert-success{background:#ecfdf5;border:1px solid #a7f3d0;color:#065f46;padding:10px 12px;border-radius:10px;margin-bottom:12px}

@media (max-width: 900px){
  .sidebar{position:fixed;z-index:10}
  body.sidebar-open{overflow:hidden}
  .grid-form{grid-template-columns:1fr}
}

@media (min-width: 1200px){
  .grid-form{grid-template-columns:repeat(3,minmax(0,1fr))}
}

/* Submenu styles for Registro */
.nav__item--has-submenu{ display:block; width:100%; border-radius:8px; }
.nav__label{ display:flex; align-items:center; gap:8px; cursor:default; padding:10px 12px 10px 0; border-radius:8px; }
.nav__item--has-submenu:hover .nav__label{ background:rgba(0,0,0,.06); }
.nav__submenu{ display:none; flex-direction:column; gap:4px; padding-left:0; margin-top:4px; }
.nav__submenu--row{ display:none; flex-direction:row; flex-wrap:wrap; gap:8px; padding-left:0; margin-top:4px; }
.nav__item--has-submenu:hover .nav__submenu,
.nav__item--has-submenu:focus-within .nav__submenu{ display:flex; }
.nav__label:hover + .nav__submenu{ display:flex; }
.nav__item--has-submenu.nav__item--open .nav__submenu{ display:flex; }
.nav__subitem{ color:var(--text); text-decoration:none; padding:8px 10px; border-radius:6px; opacity:.9; }
.nav__subitem:hover{ background:rgba(0,0,0,.06); opacity:1; }
.nav__subitem.active{ background:rgba(0,0,0,.1); opacity:1; font-weight:600; }

/* Click-panel for Configuración → Cultivos */
/* Subdivision group inside a submenu */
.nav__group{ display:flex; flex-direction:column; gap:4px; padding-left:8px; position:relative }
.nav__subsection{ font-size:12px; font-weight:normal; color:#334155; text-transform:uppercase; opacity:.8; padding:4px 10px 2px }

/* Show nested options only when hovering "Cultivos" group */
.nav__group .nav__subitem{ display:none; margin-left:8px }
.nav__group:hover .nav__subitem{ display:block }

/* Responsive row for OTRAS SEMILLAS */
.row-otras{ grid-column:1/-1; display:grid; grid-template-columns:2fr 1fr 2fr 1fr; gap:12px; align-items:end }
.row-otras .field{ min-width:0 }
@media (max-width: 900px){
  .row-otras{ grid-template-columns:1fr }
}

/* =============================
   Refined, compact form styles
   ============================= */
:root{
  --radius:10px;
  --radius-sm:8px;
  --shadow-sm:0 2px 8px rgba(15,23,42,0.06);
  --shadow-md:0 8px 24px rgba(15,23,42,0.06);
  --focus:0 0 0 3px rgba(21,89,166,0.15);
  --overlay-alpha:0.60;
  --card-alpha:0.60;
}

/* Soften background image for readability */
.content{
  background:
    linear-gradient(rgba(255,255,255,var(--overlay-alpha)), rgba(255,255,255,var(--overlay-alpha))),
    url('/images/iniaf.jpg') center center / cover no-repeat;
}

.placeholder{ padding:12px }

.card{ border-radius:var(--radius); padding:20px; box-shadow:var(--shadow-md) }

.form-card{
  background-color: rgba(var(--sidebar-bg-rgb), var(--card-alpha));
  box-shadow:var(--shadow-sm);
  padding:22px;
  max-width:980px;
  margin-inline:auto;
}
.form-card .card-title{ font-size:18px; letter-spacing:.2px }
.form-card .grid-form{ gap:14px }

/* Compact variant for smaller, cleaner forms */
.form-card--sm{ max-width:720px; padding:18px; border-radius:12px; background-color: rgba(var(--sidebar-bg-rgb), var(--card-alpha)); backdrop-filter: blur(2px); }
.form-card--sm .card-title{ font-size:16px }
.grid-form--sm{ gap:10px }
.two-col-sm{ display:grid; grid-template-columns:1fr; gap:12px }
@media (min-width:700px){ .two-col-sm{ grid-template-columns:repeat(2, minmax(0,1fr)) } }

.card-title{ margin:0 0 12px; font-size:18px }
.card-title::before{ width:3px; border-radius:3px }

/* Centered, larger title (used in Variedades manage) */
.card-title--center-lg{ text-align:center; font-size:26px; letter-spacing:.3px }
.card-title--center-lg::before{ display:none }

.grid-form{ gap:10px }
.section-title{ margin:8px 0 4px 0; font-size:12px; letter-spacing:.4px }
.grid-form label{ font-size:12px }
.grid-form input,
.grid-form select,
.grid-form textarea{
  border-radius:var(--radius-sm);
  padding:6px 8px;
  font-size:12px;
}
.grid-form input:focus,
.grid-form select:focus,
.grid-form textarea:focus{ box-shadow:var(--focus) }
.grid-form textarea{ resize:vertical; min-height:96px }

.actions{ margin-top:12px; gap:10px }
.btn-primary{ border-radius:var(--radius-sm); box-shadow:0 4px 12px rgba(21,89,166,0.18) }
.btn-secondary{ border-radius:var(--radius-sm) }

/* Compact radio appearance */
.grid-form .field input[type="radio"]{ width:16px; height:16px }
.grid-form .field input[type="radio"] + span{ font-size:14px }

/* Tables for Documentos */
.table{ width:100%; border-collapse:collapse; background:#fff }
.table th, .table td{ padding:10px 12px; border-bottom:1px solid var(--border) }
.table thead th{ background:#f9fafb; color:#334155; font-size:11px; text-transform:uppercase; letter-spacing:.4px }
.table tbody tr:hover{ background:rgba(0,0,0,.03) }
.actions-cell{ display:flex; gap:8px; flex-wrap:wrap; align-items:center; white-space:nowrap }
.actions-cell > * { white-space:nowrap }
.btn-danger{ background:#fee2e2; border:1px solid #fecaca; color:#991b1b; border-radius:var(--radius-sm); padding:8px 10px; cursor:pointer; transition:filter .15s ease }
.btn-danger:hover{ filter:brightness(0.98) }
form .btn-danger{ display:inline-flex; align-items:center }

/* Group buttons neatly */
.btn-group{ display:flex; gap:8px; flex-wrap:wrap }

/* Rounded table container */
.table--rounded{ border:1px solid var(--border); border-radius:12px; overflow:hidden; box-shadow:0 4px 16px rgba(15,23,42,.06) }
.table--rounded thead th{ background:#f3f4f6 }

/* Small visual badge */
.badge{ display:inline-block; padding:4px 8px; border-radius:999px; background:#eef2ff; color:#1e3a8a; border:1px solid #c7d2fe; font-size:12px; font-weight:600 }

/* Modal styles removed on revert */

/* Input with icon (used in Cultivos search) */
.input-with-icon{ position:relative }
.input-with-icon .input-icon{ position:absolute; left:12px; top:50%; transform:translateY(-50%); width:16px; height:16px; color:#6b7280; pointer-events:none }

/* Select-like dropdown (used for Especie/Variedad) */
.select-dropdown{ background:#fff; border:1px solid var(--border); border-radius:8px; box-shadow:var(--shadow-md); overflow:auto; max-height:240px }
.select-dropdown__header{ font-size:12px; color:#374151; background:#f3f4f6; padding:8px 10px; border-bottom:1px solid #e5e7eb; position:sticky; top:0 }
.select-dropdown__option{ padding:8px 10px; cursor:pointer; color:#0f172a }
.select-dropdown__option:hover{ background:#e5e7eb }
.select-dropdown__empty{ padding:10px; color:#6b7280 }
.input-with-icon input{ padding-left:38px }

/* Transparent table variant for Variedades */
.table--transparent{ background:rgba(var(--sidebar-bg-rgb), 0.85); border-radius:10px; overflow:hidden }
.table--transparent thead th{ background:rgba(var(--sidebar-bg-rgb), 0.90) }
.table--transparent tbody tr:hover{ background:rgba(0,0,0,0.05) }

/* Extra-transparent card background for index pages */
.form-card--ghost{ background-color: rgba(var(--sidebar-bg-rgb), 0.30) !important }
